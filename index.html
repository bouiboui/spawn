<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Spawn by bouiboui</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Spawn</h1>
      <h2 class="project-tagline">Spawn and monitor processes from your command-line.</h2>
      <a href="https://github.com/bouiboui/spawn" class="btn">View on GitHub</a>
      <a href="https://github.com/bouiboui/spawn/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/bouiboui/spawn/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <p><a href="LICENSE"><img src="https://img.shields.io/badge/license-Unlicense-brightgreen.svg?style=flat-square" alt="Software License"></a></p>

<p>Recently I've worked on several projects that call micro-processes for simple tasks (sending JSON data to a webservice, uploading a file, sending an email) in bulk, with sensibly different arguments. Spawn is a command-line utility that makes these calls and displays the progress with a progress bar like so:</p>

<div class="highlight highlight-source-shell"><pre>[Spawn] Starting 3 process(es)
 1/3 [<span class="pl-k">=========&gt;</span>------------------]  33% (php send_updates.php <span class="pl-s"><span class="pl-pds">"</span>data/client1.json<span class="pl-pds">"</span></span>) 4 secs/12 secs 1.2 MiB
 2/3 [<span class="pl-k">==================&gt;</span>---------]  66% (php send_updates.php <span class="pl-s"><span class="pl-pds">"</span>data/client2.json<span class="pl-pds">"</span></span>) 9 secs/14 secs 1.2 MiB
 3/3 [<span class="pl-k">============================</span>] 100% (php send_updates.php <span class="pl-s"><span class="pl-pds">"</span>data/client3.json<span class="pl-pds">"</span></span>) 14 secs/14 secs 1.2 MiB</pre></div>

<p><strong>Warning: This tool is in its very early stages. Bugs are expected to happen.</strong></p>

<p><strong>Spawn is not intended to be launched from a remote server, only from your local command line.</strong></p>

<h2>
<a id="install" class="anchor" href="#install" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Install</h2>

<p><a href="https://github.com/bouiboui/spawn/releases/download/0.1/spawn.phar">Download spawn.phar from the latest release</a></p>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage</h2>

<p>Run a single process</p>

<div class="highlight highlight-source-shell"><pre>php spawn.phar <span class="pl-s"><span class="pl-pds">"</span>php send_bulk_data.php<span class="pl-pds">"</span></span>

[Spawn] Starting 1 process(es)
 1/1 [<span class="pl-k">============================</span>] 100% (php send_bulk_data.php)  1 min/1 min  1.2 MiB</pre></div>

<p>Pass arguments</p>

<div class="highlight highlight-source-shell"><pre>php spawn.phar <span class="pl-s"><span class="pl-pds">"</span>php send_latest_invoices.php<span class="pl-pds">"</span></span> --args=<span class="pl-s"><span class="pl-pds">"</span>startdate=2016-01-01<span class="pl-pds">"</span></span>

[Spawn] Starting 1 process(es)
 1/1 [<span class="pl-k">============================</span>] 100% (php send_latest_invoices.php <span class="pl-s"><span class="pl-pds">"</span>startdate=2016-01-01<span class="pl-pds">"</span></span>) 13 secs/13 secs 1.2 MiB</pre></div>

<p>Add a range in the arguments</p>

<div class="highlight highlight-source-shell"><pre>php spawn.phar <span class="pl-s"><span class="pl-pds">"</span>php convert_pdfs.php<span class="pl-pds">"</span></span> --args=<span class="pl-s"><span class="pl-pds">"</span>document{1-42}.pdf<span class="pl-pds">"</span></span>

[Spawn] Starting 42 process(es)
  4/42 [<span class="pl-k">==&gt;</span>-------------------------]   9% (php convert_pdfs.php <span class="pl-s"><span class="pl-pds">"</span>document4.pdf<span class="pl-pds">"</span></span>) <span class="pl-k">&lt;</span> 1 sec/<span class="pl-k">&lt;</span> 1 sec 1.2 MiB
  8/42 [<span class="pl-k">=====&gt;</span>----------------------]  19% (php convert_pdfs.php <span class="pl-s"><span class="pl-pds">"</span>document8.pdf<span class="pl-pds">"</span></span>)  1 sec/5 secs 1.2 MiB
 12/42 [<span class="pl-k">========&gt;</span>-------------------]  28% (php convert_pdfs.php <span class="pl-s"><span class="pl-pds">"</span>document12.pdf<span class="pl-pds">"</span></span>) 2 secs/7 secs 1.2 MiB
 16/42 [<span class="pl-k">==========&gt;</span>-----------------]  38% (php convert_pdfs.php <span class="pl-s"><span class="pl-pds">"</span>document16.pdf<span class="pl-pds">"</span></span>) 3 secs/8 secs 1.2 MiB
 20/42 [<span class="pl-k">=============&gt;</span>--------------]  47% (php convert_pdfs.php <span class="pl-s"><span class="pl-pds">"</span>document20.pdf<span class="pl-pds">"</span></span>) 4 secs/8 secs 1.2 MiB
 24/42 [<span class="pl-k">================&gt;</span>-----------]  57% (php convert_pdfs.php <span class="pl-s"><span class="pl-pds">"</span>document24.pdf<span class="pl-pds">"</span></span>) 5 secs/9 secs 1.2 MiB
 28/42 [<span class="pl-k">==================&gt;</span>---------]  66% (php convert_pdfs.php <span class="pl-s"><span class="pl-pds">"</span>document28.pdf<span class="pl-pds">"</span></span>) 6 secs/9 secs 1.2 MiB
 32/42 [<span class="pl-k">=====================&gt;</span>------]  76% (php convert_pdfs.php <span class="pl-s"><span class="pl-pds">"</span>document32.pdf<span class="pl-pds">"</span></span>) 6 secs/8 secs 1.2 MiB
 36/42 [<span class="pl-k">========================&gt;</span>---]  85% (php convert_pdfs.php <span class="pl-s"><span class="pl-pds">"</span>document36.pdf<span class="pl-pds">"</span></span>) 7 secs/8 secs 1.2 MiB
 40/42 [<span class="pl-k">==========================&gt;</span>-]  95% (php convert_pdfs.php <span class="pl-s"><span class="pl-pds">"</span>document40.pdf<span class="pl-pds">"</span></span>) 8 secs/8 secs 1.2 MiB
 42/42 [<span class="pl-k">============================</span>] 100% (php convert_pdfs.php <span class="pl-s"><span class="pl-pds">"</span>document42.pdf<span class="pl-pds">"</span></span>) 9 secs/9 secs 1.2 MiB
</pre></div>

<p>Run process for each file in a directory</p>

<div class="highlight highlight-source-shell"><pre>php spawn.phar <span class="pl-s"><span class="pl-pds">"</span>php get_gravatar.php<span class="pl-pds">"</span></span> --dir=<span class="pl-s"><span class="pl-pds">"</span>data/users<span class="pl-pds">"</span></span>

[Spawn] Starting 3 process(es)
 1/3 [<span class="pl-k">=========&gt;</span>------------------]  33% (php get_gravatar.php <span class="pl-s"><span class="pl-pds">"</span>data/users/martin-fowler.json<span class="pl-pds">"</span></span>) 4 secs/12 secs 1.2 MiB
 2/3 [<span class="pl-k">==================&gt;</span>---------]  66% (php get_gravatar.php <span class="pl-s"><span class="pl-pds">"</span>data/users/rasmus-lerdorf.json<span class="pl-pds">"</span></span>) 5 secs/8 secs 1.2 MiB
 3/3 [<span class="pl-k">============================</span>] 100% (php get_gravatar.php <span class="pl-s"><span class="pl-pds">"</span>data/users/aaron-saray.json<span class="pl-pds">"</span></span>) 9 secs/9 secs 1.2 MiB</pre></div>

<p>Save output to a file</p>

<div class="highlight highlight-source-shell"><pre>php spawn.phar <span class="pl-s"><span class="pl-pds">"</span>php get_twitter_handle.php<span class="pl-pds">"</span></span> --dir=<span class="pl-s"><span class="pl-pds">"</span>data/users<span class="pl-pds">"</span></span> --outfile=<span class="pl-s"><span class="pl-pds">"</span>handles.txt<span class="pl-pds">"</span></span>

<span class="pl-c"># handles.txt</span>
$ php get_twitter_handle.php <span class="pl-s"><span class="pl-pds">"</span>data/users/martin-fowler.json<span class="pl-pds">"</span></span>
@martinfowler

$ php get_twitter_handle.php <span class="pl-s"><span class="pl-pds">"</span>data/users/rasmus-lerdorf.json<span class="pl-pds">"</span></span>
@rasmus

$ php get_twitter_handle.php <span class="pl-s"><span class="pl-pds">"</span>data/users/aaron-saray.json<span class="pl-pds">"</span></span>
@aaronsaray</pre></div>

<h2>
<a id="credits" class="anchor" href="#credits" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Credits</h2>

<ul>
<li>bouiboui â€” <a href="https://github.com/bouiboui">Github</a> <a href="https://twitter.com/j_____________n">Twitter</a> <a href="http://cod3.net">Website</a>
</li>
<li><a href="https://github.com/bouiboui/spawn/graphs/contributors">All contributors</a></li>
</ul>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h2>

<p>Unlicense. Please see <a href="LICENSE">License File</a> for more information.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/bouiboui/spawn">Spawn</a> is maintained by <a href="https://github.com/bouiboui">bouiboui</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
